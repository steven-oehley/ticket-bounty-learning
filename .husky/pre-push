#!/usr/bin/env sh

# Colors for output
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[0;33m'
BLUE='\033[0;34m'
BOLD='\033[1m'
NC='\033[0m'

echo "${BLUE}${BOLD}ğŸš€ Running pre-push checks...${NC}"

# Type checking
echo "${YELLOW}ğŸ” Running TypeScript type check...${NC}"
npm run typecheck || {
  echo "${RED}${BOLD}âŒ TypeScript errors found!${NC}"
  exit 1
}

# Full linting
echo "${YELLOW}ğŸ§¹ Running full ESLint check...${NC}"
npm run lint || {
  echo "${RED}${BOLD}âŒ ESLint errors found!${NC}"
  exit 1
}

# Format checking
echo "${YELLOW}ğŸ’… Checking code formatting...${NC}"
npm run format:check || {
  echo "${RED}${BOLD}âŒ Code formatting issues found!${NC}"
  echo "${YELLOW}Run 'npm run format' to fix formatting issues.${NC}"
  exit 1
}

echo "${GREEN}${BOLD}âœ… All pre-push checks passed!${NC}"
